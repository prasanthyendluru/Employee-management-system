{% extends 'testapp/base.html' %}
{% load static %}

{% block title %}Update Task Status - Employee Management System{% endblock %}

{% block content %}
<div class="bg-gray-100 min-h-screen flex flex-col">
    

    <main class="flex-1 container mx-auto px-4 py-8">
        <section class="space-y-6">
            <div class="bg-white p-6 rounded-lg shadow-md">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">Task: {{ task.title }}</h2>
                <form method="post" class="space-y-4">
                    {% csrf_token %}
                    <div>
                        <label for="{{ form.status.id_for_label }}" class="block text-sm font-medium text-gray-700">Status</label>
                        <select id="{{ form.status.id_for_label }}" name="{{ form.status.name }}" 
                                class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm" 
                                required>
                            {% for value, label in form.status.field.choices %}
                                <option value="{{ value }}" {% if task.status == value %}selected{% endif %}>
                                    {{ label }}
                                </option>
                            {% endfor %}
                        </select>
                    </div>
                    <button type="submit" class="w-full bg-blue-500 text-white py-2 px-4 rounded-full hover:bg-blue-700 transition duration-300 ease-in-out">
                        Update Status
                    </button>
                </form>
                <a href="{% url 'employee_dashboard' %}" class="text-blue-500 mt-4 block text-center">Back to Dashboard</a>
            </div>
        </section>
    </main>
</div>
{% endblock %}